<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<script src="/js/codemirror.js" type="text/javascript" charset="utf-8"></script>
<script src="/js/periodic.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
$(function() {
  var editor = CodeMirror.fromTextArea('editor', {
    height: "dynamic",
    parserfile: ["parsejs.js"],
    stylesheet: "/css/jscolors.css",
    path: "/js/"
  })

  $('#add a').click(function() {
    $('#editor').val(editor.getCode()); //run this every change.
  })

  /*
  var interval = 0;

  $('body').at_intervals(function() {
    if(interval > 0 && $('#editor').val() != editor.getCode()) {
      editor.setCode($('#editor').val());  
    }
    interval++;
  }, {delay: 2000});
  */
})
</script>
<div id="left_sidebar">
  <div id="left_head">
    <h2>{projectname}</h2>
  </div>
  <div class="left_body">
    <div id="add">
      <a href="#">
        <img src="/images/plus.png" />
        <p>ADD FILE</p>
      </a>
      <form action="/newfile/{id}" method="POST" id="addfileform">
        <input type="text" id="addfile" name="addfile" value="fillerfile.js">
        <input type="hidden" id="project_name" name="project_name" value="{projectname}">
        <input type="submit" value="CREATE FILE"/>
      </form>
    </div>
    {projfilelist}
  </div>
</div>
<div id="main_content">
  <div id="main_head">
    <h2>{filename}</h2>
  </div>
  <div id="main_body">
<textarea width="656" height="925" id="editor">
{textcontent}
</textarea>
  </div>
</div>
<div id="right_sidebar">
  <div id="right_head">
    <h2>{creator}</h2>
  </div>
  <div id="right_body">
    <p></p>
  </div>
</div>
